<!DOCTYPE html>
<html>

<head>
    <title>COVID Info</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./assets/css/style.css">
</head>

<body>
    <div class="container">
        <h2>Check COVID Data by State</h2>
        <input type="text" id="ctName" placeholder="Enter State Name">
        <button id="check">Check</button>

        <p id="output"></p>
        <div id="cardContainer" class="row row-cols-1 row-cols-md-3 g-4 mt-3 d-flex">
            
        </div>
      
            </tbody>
        </table>
    </div>



    <script>
        document.getElementById("check").addEventListener("click", function () {
            let ctName = document.getElementById("ctName").value.trim();
            const url = "https://api.rootnet.in/covid19-in/stats/latest";
        
            // Clear old results
            document.getElementById("output").innerHTML = "";
            <!-- document.getElementById("tablecontent").innerHTML = ""; -->
            document.getElementById("cardContainer").innerHTML = "";
        
            fetch(url)
                .then(res => res.json())
                .then(res => {
                    let states = res.data.regional;
                    let found = false;
        
                    states.forEach((state, index) => {
                        if (state.loc.toLowerCase() === ctName.toLowerCase()) {
                            found = true;
        
                            // Card Design
                            document.getElementById("cardContainer").innerHTML += `
                            <div class="col">
                                <div class="card h-100 shadow border-0 bg-light">
                                    <div class="card-body">
                                        <h4 class="card-title text-primary fw-bold">${state.loc}</h4>
                                        <hr>
                                        <p class="card-text mb-2">
                                            <span class="fw-semibold text-dark">ü¶† Total Cases:</span>
                                            <span class="text-danger fw-bold">${state.totalConfirmed}</span>
                                        </p>
                                        <p class="card-text mb-2">
                                            <span class="fw-semibold text-dark">‚úÖ Discharged:</span>
                                            <span class="text-success fw-bold">${state.discharged}</span>
                                        </p>
                                        <p class="card-text mb-2">
                                            <span class="fw-semibold text-dark">‚ò†Ô∏è Deaths:</span>
                                            <span class="text-secondary fw-bold">${state.deaths}</span>
                                        </p>
                                    </div>
                                  
                                </div>
                            </div>
                        `;
                        
                        }
                    });
        
                    if (!found) {
                        document.getElementById("output").innerHTML = "State not found. Please check the name.";
                    }
                });
        });
    </script>
</body>

</html>